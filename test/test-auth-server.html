<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
  <div id="container1">
    <input id="code" type="text" placeholder="code"/>
    <button id="getToken">Get Token</button>
    <p id="result"></p>
  </div>
  <div id="container2">
    <input id="refresh" type="text" placeholder="refresh"/>
    <button id="refreshToken">Get Token</button>
    <p id="refreshResult"></p>
  </div>

  <script type="text/javascript">
    const getTokenElement = document.getElementById('getToken');
    const refreshTokenElement = document.getElementById('refreshToken');

    getTokenElement.onclick = function(){
      const codeElement = document.getElementById('code');
      const resultElement = document.getElementById('result');
      const codeValue = codeElement.value;

      const lambdaURL = 'https://f2x5vqozrh.execute-api.ca-central-1.amazonaws.com/dev/api/token/' + codeValue;

      fetch(lambdaURL)
        .then(function(response){
          return response.json();
        })
        .then(function(json){
          resultElement.innerText = JSON.stringify(json);
        })
    }

      refreshTokenElement.onclick = function(){
        const codeElement = document.getElementById('refresh');
        const resultElement = document.getElementById('refreshResult');
        const codeValue = codeElement.value;

        const lambdaURL = 'https://f2x5vqozrh.execute-api.ca-central-1.amazonaws.com/dev/api/token/' + codeValue;

        fetch(lambdaURL)
          .then(function(response){
            return response.json();
          })
          .then(function(json){
            resultElement.innerText = JSON.stringify(json);
          })
      }
      </script>
  </body>
</html>
